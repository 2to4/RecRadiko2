# RecRadiko2 画面仕様書

**最終更新日**: 2025年7月24日  
**バージョン**: 1.0  
**対象アプリ**: RecRadiko2 (macOS SwiftUI アプリケーション)

## 概要

本仕様書では、RecRadiko2アプリケーションの各画面の詳細なレイアウト仕様、UI要素の配置、デザイン指針を記載します。

## 共通仕様

### デザインシステム
- **テーマ**: ダークテーマ
- **基本色**:
  - 背景色：`Color.black`
  - セカンダリ背景：`Color(white: 0.15)`
  - UI背景：`Color(white: 0.2)`
  - 入力欄背景：`Color(white: 0.3)`
  - テキスト色：`Color.white`
  - セカンダリテキスト：`Color.gray`
  - アクセント色：`Color.blue`

### フォント
- **メインフォント**: システムフォント
- **等幅フォント**: `.monospaced`（時刻表示用）
- **サイズ**:
  - タイトル：`.title2`
  - 見出し：`.headline` 
  - 本文：`.body`（14px）
  - キャプション：`.caption`

### 共通UI要素

#### タブバー
- **位置**: 各画面上部
- **高さ**: 40px
- **背景色**: `Color(white: 0.2)`
- **タブ項目**: 「ラジオ局を選ぶ」「ラジオ局」「設定」
- **選択状態**: 
  - 背景色：`Color(white: 0.3)`
  - テキスト色：`Color.white`
- **非選択状態**:
  - 背景色：透明
  - テキスト色：`Color.gray`

---

## 1. 放送局一覧画面

### 画面構成
```
┌─────────────────────────────────────────┐
│ [ラジオ局を選ぶ] [ラジオ局] [設定]        │ ← タブバー (40px)
├─────────────────────────────────────────┤
│ 説明セクション                           │ ← (200px)
│ ┌─────────────────────────────────────┐ │
│ │ 1) エリアの選択                    │ │
│ │ [東京 ▼]                          │ │
│ │ (ラジコプレミアム説明文...)          │ │
│ │                                   │ │
│ │ 2) ラジオ局を選ぶ                  │ │
│ └─────────────────────────────────────┘ │
├─────────────────────────────────────────┤
│ 放送局グリッド                           │ ← 残り高さ
│ ┌──┐ ┌──┐ ┌──┐ ┌──┐ ┌──┐            │
│ │TBS│ │QRR│ │LFR│ │R-1│ │R-2│            │
│ └──┘ └──┘ └──┘ └──┘ └──┘            │
│ ┌──┐ ┌──┐ ┌──┐ ┌──┐ ┌──┐            │
│ │INT│ │FMT│ │FMJ│ │日本│ │FM7│            │
│ └──┘ └──┘ └──┘ └──┘ └──┘            │
│ (スクロール可能)                        │
└─────────────────────────────────────────┘
```

### 詳細仕様

#### ウィンドウサイズ
- **最小サイズ**: 800x600px
- **推奨サイズ**: 900x700px

#### 説明セクション
- **位置**: タブバー直下
- **高さ**: 200px（固定）
- **パディング**: 20px（全方向）
- **背景色**: `Color(white: 0.15)`

##### 1) エリア選択
- **コンポーネント**: `Picker` with `MenuPickerStyle()`
- **幅**: 200px
- **背景色**: `Color.blue`
- **角丸**: 5px

##### 2) 説明文
- **フォント**: `.caption`
- **色**: `Color.gray`
- **行数**: 複数行対応

#### 放送局グリッド
- **レイアウト**: `LazyVGrid`
- **列数**: 5列（`GridItem(.flexible())`）
- **間隔**: 20px
- **パディング**: 20px（全方向）
- **スクロール**: 縦スクロール対応

##### 放送局セル
- **サイズ**: 120x80px（ロゴ部分）
- **間隔**: 8px（ロゴと局名の間）
- **背景色**: 放送局別の色分け
- **角丸**: 8px
- **ホバーエフェクト**: 1.05倍に拡大（0.2秒のアニメーション）

---

## 2. 番組一覧画面

### 画面構成
```
┌─────────────────────────────────────────────────────────┐
│ [ラジオ局を選ぶ] [ラジオ局] [設定]                        │ ← タブバー (40px)
├─────────────────┬───────────────────────────────────────┤
│ 左パネル          │ 右パネル                              │
│ (300px幅)        │                                     │
│                 │ ┌─────────────────────────────────┐ │
│ ◀ TBSラジオ      │ │ ▶ ⏺ 操作ボタン                  │ │ ← (50px)
│                 │ └─────────────────────────────────┘ │
│ [放送局ロゴ]      │ ┌─────────────────────────────────┐ │
│                 │ │ 番組表 日付 [今日(07/24) ▼]      │ │ ← (40px)
│ 放送時間:        │ └─────────────────────────────────┘ │
│ 19:00～20:00    │ ┌─────────────────────────────────┐ │
│                 │ │ ○ 05:00 大島由香里 BRAND-NEW... │ │
│ 荻上チキ・       │ │ ○ 06:30 森本毅郎・スタンバイ！   │ │
│ Session (3)     │ │ ○ 08:30 パンサー向井の#ふらっと  │ │
│                 │ │ ● 10:00 パンサー向井の#ふらっと  │ │ ← 選択状態
│ 荻上チキ /       │ │ ○ 11:00 ジェーン・スー 生活は踊る │ │
│ 南部広美         │ │ ○ 12:00 ジェーン・スー 生活は踊る │ │
│                 │ │ (スクロール可能)                │ │
│                 │ └─────────────────────────────────┘ │
└─────────────────┴───────────────────────────────────────┘
```

### 詳細仕様

#### ウィンドウサイズ
- **最小サイズ**: 900x700px
- **推奨サイズ**: 1000x800px

#### 左パネル（番組詳細）
- **幅**: 300px（固定）
- **背景色**: `Color(white: 0.18)`
- **パディング**: 20px

##### 戻るボタン・放送局名
- **アイコン**: `Image(systemName: "arrow.left")`
- **フォント**: `.title3`
- **色**: `Color.white`
- **間隔**: 8px

##### 放送局ロゴ
- **サイズ**: 120x80px
- **角丸**: 8px
- **マージン**: 上20px

##### 番組情報
- **間隔**: 8px（各項目間）
- **放送時間**: `.caption`, `Color.gray`
- **番組名**: `.headline`, `Color.white`
- **出演者**: `.caption`, `Color.gray`

#### 右パネル（番組リスト）
- **幅**: 残り全幅
- **背景色**: `Color(white: 0.1)`

##### 操作ボタンバー
- **高さ**: 50px
- **背景色**: `Color(white: 0.15)`
- **パディング**: 左20px、上下15px
- **ボタン間隔**: 20px
- **アイコンサイズ**: `.title2`
- **色**: `Color.gray`

##### 日付選択バー
- **高さ**: 40px
- **背景色**: `Color(white: 0.12)`
- **パディング**: 左右16px、上下8px
- **DatePicker**: `CompactDatePickerStyle()`

##### 番組リスト
- **背景色**: `Color(white: 0.1)`
- **スクロール**: 縦スクロール対応

###### 番組行
- **高さ**: 32px
- **パディング**: 左右16px、上下8px
- **選択状態背景**: `Color(white: 0.2)`
- **ラジオボタン**: 
  - 非選択：`"circle"`
  - 選択：`"circle.inset.filled"`
  - サイズ：16px
- **時刻表示**:
  - フォント：`.monospaced`, 14px
  - 色：`Color.gray`
  - 幅：50px（左寄せ）
- **番組名**:
  - フォント：システムフォント, 14px
  - 色：`Color.white`
  - 最大幅：残り全幅（左寄せ）

### 深夜番組表示
- **時刻表記**: 25時間表記（24:00-29:00）
- **視覚的区別**: なし（通常番組と同じ表示）
- **日付基準**: 放送開始日で表示

---

## 3. 設定画面

### 画面構成
```
┌─────────────────────────────────────────────────────────┐
│ [ラジオ局を選ぶ] [ラジオ局] [設定]                        │ ← タブバー (40px)
├─────────────────────────────────────────────────────────┤
│ 設定内容                                               │
│                                                       │
│ ファイル保存場所                                        │
│ ┌─────┐ Users > futo4 > Desktop                      │
│ │ 変更 │                                              │
│ └─────┘                                              │
│                                                       │
│ ラジコプレミアムサービス会員設定                          │
│                                                       │
│ 登録メールアドレス  ┌─────────────────────────────┐   │
│                   │                           │   │
│                   └─────────────────────────────┘   │
│                                                       │
│ パスワード          ┌─────────────────────────────┐   │
│                   │ ••••••••••••••••••••••••• │   │
│                   └─────────────────────────────┘   │
│                                                       │
│                                           ┌─────────┐ │
│                                           │設定 & 確認│ │
│                                           └─────────┘ │
└─────────────────────────────────────────────────────────┘
```

### 詳細仕様

#### ウィンドウサイズ
- **最小サイズ**: 800x600px
- **推奨サイズ**: 900x700px

#### 設定コンテンツ
- **背景色**: `Color(white: 0.15)`
- **パディング**: 40px（全方向）
- **縦間隔**: 30px（セクション間）

#### ファイル保存場所セクション
- **見出し**: `.headline`, `Color.white`
- **縦間隔**: 15px（見出しと内容の間）

##### 変更ボタンとパス表示
- **レイアウト**: HStack
- **ボタン**:
  - テキスト：「変更」
  - 色：`Color.black`
  - 背景：`Color.gray.opacity(0.8)`
  - パディング：左右20px、上下5px
  - 角丸：5px
- **パス表示**:
  - フォント：システムフォント, 14px
  - 色：`Color.gray`
  - 左マージン：16px

#### ラジコプレミアムセクション
- **見出し**: `.headline`, `Color.white`
- **縦間隔**: 15px

##### フォームレイアウト
- **構造**: HStack（ラベル、入力欄、ボタン）
- **間隔**: 30px

###### ラベル列
- **幅**: 140px（右寄せ）
- **フォント**: システムフォント, 14px
- **色**: `Color.gray`
- **縦間隔**: 15px

###### 入力欄列
- **幅**: 280px
- **スタイル**: `PlainTextFieldStyle()`
- **パディング**: 5px
- **背景色**: `Color(white: 0.3)`
- **角丸**: 3px
- **テキスト色**: `Color.white`
- **縦間隔**: 15px

###### ボタン列
- **ボタン**:
  - テキスト：「設定 & 確認」
  - 色：`Color.black`
  - 背景：`Color.gray.opacity(0.8)`
  - パディング：左右20px、上下5px
  - 角丸：5px
- **位置**: 入力欄の右側、中央揃え

---

## 4. 録音進捗ポップアップ

### 画面構成
```
┌─────────────────────────────────┐
│          録音中...              │
│                               │
│      荻上チキ・Session (3)       │
│                               │
│ ████████████░░░░░░░░░░░░░░░░   │ ← プログレスバー
│                               │
│           01:23               │ ← 経過時間
│                               │
│          ┌─────────┐           │
│          │キャンセル│           │
│          └─────────┘           │
└─────────────────────────────────┘
```

### 詳細仕様

#### ポップアップウィンドウ
- **サイズ**: 400x250px（固定）
- **背景色**: `Color(white: 0.2)`
- **角丸**: 12px
- **シャドウ**: あり
- **位置**: 画面中央

#### 内容レイアウト
- **パディング**: 40px（全方向）
- **縦間隔**: 20px

##### タイトル
- **テキスト**: 「録音中...」
- **フォント**: `.title2`
- **色**: `Color.white`
- **位置**: 中央揃え

##### 番組名
- **フォント**: `.headline`
- **色**: `Color.gray`
- **位置**: 中央揃え

##### プログレスバー
- **スタイル**: `LinearProgressViewStyle()`
- **幅**: 300px
- **色**: システムデフォルト

##### 経過時間
- **フォント**: `.title3`, `.monospaced`
- **色**: `Color.white`
- **形式**: MM:SS
- **位置**: 中央揃え

##### キャンセルボタン
- **テキスト**: 「キャンセル」
- **色**: `Color.white`
- **背景**: `Color.red`
- **パディング**: 左右30px、上下10px
- **角丸**: 8px
- **位置**: 中央揃え

#### 操作制限
- **録音中の状態**: 他のUI操作を無効化
- **背景**: 半透明オーバーレイでメイン画面を覆う
- **ESCキー**: キャンセル操作に対応

---

## 5. 共通コンポーネント仕様

### ボタンスタイル
```swift
// プライマリボタン
.foregroundColor(.white)
.padding(.horizontal, 20)
.padding(.vertical, 10)
.background(Color.blue)
.cornerRadius(8)

// セカンダリボタン（設定画面用）
.foregroundColor(.black)
.padding(.horizontal, 20)
.padding(.vertical, 5)
.background(Color.gray.opacity(0.8))
.cornerRadius(5)

// 危険操作ボタン（キャンセル等）
.foregroundColor(.white)
.padding(.horizontal, 30)
.padding(.vertical, 10)
.background(Color.red)
.cornerRadius(8)
```

### 入力欄スタイル
```swift
// 通常の入力欄
.textFieldStyle(PlainTextFieldStyle())
.padding(5)
.background(Color(white: 0.3))
.cornerRadius(3)
.foregroundColor(.white)
```

### アニメーション
```swift
// ホバーエフェクト
.scaleEffect(isHovered ? 1.05 : 1.0)
.animation(.easeInOut(duration: 0.2), value: isHovered)
```

---

## 6. レスポンシブ対応

### ウィンドウサイズ変更時の動作
1. **最小サイズ以下**: リサイズ不可
2. **横幅拡張**: 
   - 放送局一覧：グリッドの間隔を調整
   - 番組一覧：右パネルの幅を拡張
   - 設定画面：コンテンツは左寄せで固定幅維持
3. **縦幅拡張**:
   - スクロール可能エリアの高さを拡張

### アクセシビリティ
- **フォーカス移動**: Tabキーでの順次移動対応
- **キーボードショートカット**: 
  - ⌘+1: 放送局一覧画面
  - ⌘+2: 番組一覧画面（選択中の放送局がある場合）
  - ⌘+,: 設定画面
- **VoiceOver**: 各UI要素に適切なアクセシビリティラベルを設定

---

## まとめ

本画面仕様書は、RecRadiko2アプリケーションの実装時に参照すべき詳細なレイアウト指針を提供しています。SwiftUIでの実装時は、本仕様書の寸法、色、間隔を正確に反映してください。